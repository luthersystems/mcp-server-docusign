# DocuSign JWT Authentication Configuration
# Copy this file to .env and fill in your actual credentials

# Authentication base URL
# Demo environment (recommended for testing):
DS_AUTH_BASE=https://account-d.docusign.com
# Production environment:
# DS_AUTH_BASE=https://account.docusign.com

# Integration Key (Client ID) - Get from DocuSign Admin Console -> Apps & Keys
DS_INTEGRATION_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# User ID (GUID) to impersonate - Get from DocuSign Admin Console -> Users
DS_USER_ID=yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy

# OAuth scopes (typically this exact value)
DS_OAUTH_SCOPE=signature impersonation

# ============== PRIVATE KEY CONFIGURATION (Choose ONE method) ==============

# METHOD 1: File path (recommended for local development)
DS_PRIVATE_KEY_PATH=./private.key

# METHOD 2: Base64-encoded key (recommended for CI/CD like GitHub Actions)
# Encode your key with: base64 -w 0 private.key
# Uncomment and paste the base64 string here:
# DS_PRIVATE_KEY=LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0t...

# Token expiration in seconds (optional, default 3600)
DS_TOKEN_EXP_SECS=3600

# ==============================================================================
# SETUP INSTRUCTIONS
# ==============================================================================
#
# 1. CREATE INTEGRATION KEY
#    - Log into DocuSign Admin Console (https://admindemo.docusign.com/)
#    - Go to Settings -> Apps & Keys
#    - Click "+ ADD APP AND INTEGRATION KEY"
#    - Copy the Integration Key
#
# 2. GENERATE RSA KEYPAIR
#    $ openssl genrsa -out private.key 2048
#    $ openssl rsa -in private.key -pubout -out public.key
#
# 3. UPLOAD PUBLIC KEY TO DOCUSIGN
#    - In your integration settings, under "Authentication"
#    - Select "JWT (JSON Web Token)"
#    - Click "+ ADD RSA KEY" or "GENERATE RSA"
#    - Paste contents of public.key (or let DocuSign generate it)
#    - Click "SAVE"
#
# 4. ADD REDIRECT URI
#    - In "Redirect URIs" section, click "+ ADD URI"
#    - Enter: https://www.docusign.com
#    - Click "SAVE" at bottom of page
#    - IMPORTANT: Redirect URI must exactly match what's used in consent URL
#
# 5. GRANT ADMIN CONSENT (CRITICAL - ONE TIME ONLY)
#    Replace YOUR_INTEGRATION_KEY below and visit this URL in browser:
#
#    Demo:
#    https://account-d.docusign.com/oauth/auth?response_type=code&scope=signature%20impersonation&client_id=YOUR_INTEGRATION_KEY&redirect_uri=https://www.docusign.com
#
#    Production:
#    https://account.docusign.com/oauth/auth?response_type=code&scope=signature%20impersonation&client_id=YOUR_INTEGRATION_KEY&redirect_uri=https://www.docusign.com
#
#    - Click "ALLOW ACCESS"
#    - You'll be redirected to docusign.com (that's OK - consent was granted)
#
# 6. GET USER ID
#    - Go to Settings -> Users in DocuSign Admin
#    - Click on your user
#    - The User ID (GUID) is in the URL or shown as "User ID"
#
# 7. FOR CI/CD (GitHub Actions):
#    - Generate base64 key: base64 -w 0 private.key | pbcopy
#    - Add as GitHub secret: DS_PRIVATE_KEY (paste the base64 string)
#    - Add other vars as GitHub secrets: DS_INTEGRATION_KEY, DS_USER_ID, etc.
#    - Do NOT use DS_PRIVATE_KEY_PATH in CI/CD
#
# 8. RUN INTEGRATION TESTS
#    $ pytest tests/test_integration.py -v
#
# ==============================================================================
